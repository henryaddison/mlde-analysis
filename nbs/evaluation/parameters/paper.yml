eval_vars: ["pr"]
dataset_configs:
    CPM: "bham_gcmx-4x_12em_psl-sphum4th-temp4th-vort4th_eqvt_random-season"
    GCM: "bham_60km-4x_12em_psl-sphum4th-temp4th-vort4th_eqvt_random-season"
split: "test"
ensemble_members: ["01", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "15"]
samples_per_run: 6
sample_configs:
    CPM:
      - label: Diffusion-cCPM
        sample_specs:
          - fq_model_id: "score-sde/subvpsde/xarray_12em_cncsnpp_continuous/bham-4x_12em_PslS4T4V4_random-season-IstanTsqrturrecen-no-loc-spec"
            checkpoint: epoch_20
            input_xfm: bham_gcmx-4x_12em_psl-sphum4th-temp4th-vort4th_eqvt_random-season-stan
            dataset: "bham_gcmx-4x_12em_psl-sphum4th-temp4th-vort4th_eqvt_random-season"
            variables: ["pr"]
        deterministic: False
        CCS: True
        color: "blue"
        order: 10
      - label: U-Net-cCPM
        sample_specs:
          - fq_model_id: "u-net/bham-4x_12em_PslS4T4V4_random-season-IstanTsqrturrecen"
            checkpoint: epoch_100
            input_xfm: bham_gcmx-4x_12em_psl-sphum4th-temp4th-vort4th_eqvt_random-season-stan
            dataset: "bham_gcmx-4x_12em_psl-sphum4th-temp4th-vort4th_eqvt_random-season"
            variables: ["pr"]
        deterministic: True
        color: "orange"
        order: 1
      - label: cCPM Bilinear
        sample_specs:
          - fq_model_id: "id-linpr"
            checkpoint: "epoch_0"
            input_xfm: "none"
            dataset: "bham_gcmx-4x_12em_linpr_eqvt_random-season"
            variables: ["pr"]
        deterministic: True
        color: "dimgrey"
        order: 0
    GCM:
      - label: Diffusion-GCM
        sample_specs:
          - fq_model_id: "score-sde/subvpsde/xarray_12em_cncsnpp_continuous/bham-4x_12em_PslS4T4V4_random-season-IstanTsqrturrecen-no-loc-spec"
            checkpoint: epoch_20
            input_xfm: bham_60km-4x_12em_psl-sphum4th-temp4th-vort4th_eqvt_random-season-pixelmmsstan
            dataset: "bham_60km-4x_12em_psl-sphum4th-temp4th-vort4th_eqvt_random-season"
            variables: ["pr"]
        deterministic: False
        CCS: True
        color: "green"
        order: 20
gcm_lr_lin_pr_dataset: "bham_60km-4x_12em_linpr_eqvt_random-season"
cpm_hr_pr_dataset: "bham_gcmx-4x_12em_linpr_eqvt_random-season"
example_percentiles:
  CPM:
    - label: "Wet"
      percentile:  0.8
      variable: "pr"
    - label: "Wettest"
      percentile: 1
      variable: "pr"
  GCM:
    - label: "Wet"
      percentile:  0.8
      variable: "pr"
    - label: "Wettest"
      percentile: 1
      variable: "pr"
example_overrides:
    CPM: {"JJA Wet": ["01", "1993-08-01 12:00:00"]}
    GCM: {}

desc: |
    Multi-ensemble member models
    Splits are based on random choice of seasons with equal number of seasons from each time slice

    Compare:

    ### Diffusion models
    * PslS4T4V4 IstanTsqrturrecen no-loc-spec

    ### Lo-res precip:
    * id-linpr

    ## Diff models and U-net models

    No loc-spec params (diff models only)

    Inputs from: pressure at sea level and 4 levels of spechum, temp and vorticity

    Target domain and resolution: 64x64 2.2km-4x England and Wales

    Input resolution: 60km/gcmx

    Input transforms are fitted on dataset in use (ie separate GCM and CPM versions) while target transform is fitted only at training on the CPM dataset
